{
  "infrastructure": {
    "hosts": [
      {
	"id": "hel1_viking",
	"hostname_short": "viking",
	"hostname_fqdn": "viking.savla.net", 
	"domain": "savla.net", 
	"roles": [
	  "base",
	  "hyp"
	],
	"ansible_groups": [ "viking_intranet" ],
	"state": "running",
	"ip_address": [
	  "95.216.7.113/32", 
	  "10.4.5.140/25",
	  "10.4.6.33/27"
        ],
	"links": [
	  {
	    "source": "hel1_viking", "target": "hel1_brikule", "interface_name": "br32", "type": "virtio"
	  },
	  {
	    "source": "hel1_viking", "target": "hel1_hermes", "interface_name": "br32", "type": "virtio"
	  },
	  {
	    "source": "hel1_viking", "target": "hel1_ravn", "interface_name": "br32", "type": "virtio"
	  },
	  {
	    "source": "hel1_viking", "target": "fra1_frank", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "hel1_viking", "target": "hel1_hetzner_peering", "interface_name": "enp2s0", "type": "ethernet"
	  }
	],
        "virtual_machines": [
	  "hel1_brikule",
	  "hel1_hermes",
	  "hel1_ravn"
	]
      },

      {
	"id": "brn1_squabbit",
	"hostname_short": "squabbit",
	"hostname_fqdn": "squabbit.savla.net",
	"domain": "savla.net",
	"ansible_groups": [ "squabbit_intranet" ],
	"roles": [ 
	  "base",
	  "hyp" 
	],
	"state": "shutdown",
        "ip_address": [
	  "10.4.5.1/25",
 	  "10.4.5.129/25",
	  "192.168.4.246/24"
        ],
	"links": [
	  {
	    "source": "brn1_squabbit", "target": "brn1_stokrle", "interface_name": "virbr0", "type": "virtio"
	  },
	  {
	    "source": "brn1_squabbit", "target": "brn1_tackbox", "interface_name": "virbr0", "type": "virtio"
	  },
	  {
	    "source": "brn1_squabbit", "target": "brn1_fgrebox", "interface_name": "virbr0", "type": "virtio"
	  },
	  {
	    "source": "brn1_squabbit", "target": "fra1_frank", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "brn1_squabbit", "target": "brn1_vodafone_isp", "interface_name": "enp2s0", "type": "ethernet"
	  }
        ],
        "virtual_machines": [
	  "brn1_stokrle",
	  "brn1_tackbox",
	  "brn1_fgrebox"
	]
      },

      {
	"id": "fra1_frank",
	"hostname_short": "frank",
	"hostname_fqdn": "frank.savla.net",
	"domain": "savla.net",
	"ansible_groups": [ "intranet_edge" ],
        "roles": [
 	  "gateway",
	  "container",
	  "runner",
	  "dish",
	  "webserver_nginx",
	  "vpn_gateway",
	  "dns"
	],
        "ip_address": [
	  "165.22.94.196/32",
 	  "10.4.5.130/25"
        ],
	"links": [
	  {
	    "source": "fra1_frank", "target": "hel1_viking", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "fra1_frank", "target": "brn1_squabbit", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "fra1_frank", "target": "vpn0_krustyboks", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "fra1_frank", "target": "vpn0_krustyphone", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "fra1_frank", "target": "vpn0_tack_pc", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "fra1_frank", "target": "vpn0_tack_phone", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "fra1_frank", "target": "vpn0_talion", "interface_name": "wg0", "type": "wireguard"
	  },
	  {
	    "source": "fra1_frank", "target": "fra1_digitalocean_peering", "interface_name": "eth0", "type": "ethernet"
	  }
	],
        "virtual_machines": []
      },

      {
	"id": "brn1_stokrle",
	"hostname_short": "stokrle",
	"hostname_fqdn": "stokrle.savla.net",
	"domain": "savla.net",
	"ansible_groups": [ "squabbit_intranet" ],
        "roles": [
	  "runner",
	  "webserver_traefik",
	  "container",
	  "virtual",
	  "swapi_prod"
	],
        "ip_address": [
 	  "10.4.5.33/25"
        ],
	"links": [
	  {
	    "source": "brn1_stokrle", "target": "brn1_squabbit", "interface_name": "enp1s0", "type": "virtio/ethernet"
	  }
	]
      },

      {
	"id": "brn1_tackbox",
	"hostname_short": "tackbox",
	"hostname_fqdn": "tackbox.savla.net",
	"domain": "savla.net",
	"ansible_groups": [ "squabbit_intranet" ],
        "roles": [
	  "container",
	  "webserver_nginx",
	  "virtual"
	],
        "ip_address": [
 	  "10.4.5.36/25"
        ],
	"links": [
	  {
	    "source": "brn1_tackbox", "target": "brn1_squabbit", "interface_name": "enp1s0", "type": "virtio/ethernet"
	  }
	]
      },

      {
	"id": "brn1_fgrebox",
	"hostname_short": "fgrebox",
	"hostname_fqdn": "fgrebox.savla.net",
	"domain": "savla.net",
	"ansible_groups": [ "squabbit_intranet" ],
        "roles": [
	  "private",
	  "virtual"
	],
        "ip_address": [
 	  "10.4.5.41/25"
        ],
	"links": [
	  {
	    "source": "brn1_fgrebox", "target": "brn1_squabbit", "interface_name": "enp1s0", "type": "virtio/ethernet"
	  }
	]
      },

      {
	"id": "hel1_brikule",
	"hostname_short": "brikule",
	"hostname_fqdn": "brikule.savla.net",
	"domain": "savla.net",
	"ansible_groups": [ "viking_intranet" ],
        "roles": [
	  "container",
	  "webserver_traefik",
	  "virtual"
	],
        "ip_address": [
 	  "10.4.6.35/27"
        ],
	"links": [
	  {
	    "source": "hel1_brikule", "target": "hel1_viking", "interface_name": "enp1s0", "type": "virtio/ethernet"
	  }
	]
      },

      {
	"id": "hel1_ravn",
	"hostname_short": "ravn",
	"hostname_fqdn": "ravn.savla.net",
	"domain": "savla.net",
	"ansible_groups": [ "viking_intranet" ],
        "roles": [
	  "container",
	  "webserver_traefik",
	  "virtual", 
	  "dish"
	],
        "ip_address": [
 	  "10.4.6.44/27"
        ],
	"links": [
	  {
	    "source": "hel1_ravn", "target": "hel1_viking", "interface_name": "enp1s0", "type": "virtio/ethernet"
	  }
	]
      },

      {
	"id": "hel1_hermes",
	"hostname_short": "hermes",
	"hostname_fqdn": "hermes.savla.net",
	"domain": "savla.net",
	"ansible_groups": [ "viking_intranet" ],
        "roles": [
	  "container",
	  "webserver_traefik",
	  "virtual"
	],
        "ip_address": [
 	  "10.4.6.39/27"
        ],
	"links": [
	  {
	    "source": "hel1_hermes", "target": "hel1_viking", "interface_name": "enp1s0", "type": "virtio/ethernet"
	  }
	]
      }
    ],

    "networks": [
      {
	"hash": "net_virbr0_sq",
	"network_name": "squabbit virbr0 intranet",
	"interface_name": "virbr0",
	"network_address": "10.4.5.0/25",
	"network_cidr_block": "25"
      },
      {
	"hash": "net_br32_vik",
	"network_name": "viking br32 network",
	"interface_name": "br32",
	"network_address": "10.4.6.32/27",
	"network_cidr_block": "27"
      },
      {
	"hash": "net_br64_vik",
	"network_name": "viking br64 network",
	"interface_name": "br64",
	"network_address": "10.4.6.64/27",
	"network_cidr_block": "27"
      },
      {
	"hash": "net_wg_monke_in_fr",
	"network_name": "intra-monkeVPN network on frank",
	"interface_name": "wg_monke_in_5_128",
	"network_address": "10.4.5.128/26",
	"network_cidr_block": "26"
      },
      {
	"hash": "net_wg_monke_ex_fr",
	"network_name": "extra-monkeVPN network on frank-viking",
	"interface_name": "wg_monke_ex_5_192",
	"network_address": "10.4.5.192/26",
	"network_cidr_block": "26"
      }
    ]
  }
}
